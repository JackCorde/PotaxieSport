@model PotaxieSport.Models.DetallesEquipoViewModel

@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ViewData["Title"] = "Detalles del Equipo";
}

<h1>Detalles del Equipo</h1>

<div class="container">
    <div class="row">

        <div class="col-md-6">
            <h3>@Model.Equipo.EquipoNombre</h3>
            <p><strong>Género:</strong> @Model.Equipo.Genero</p>
            <p><strong>Categoría:</strong> @Model.Categoria.CategoriaNombre</p>
            <p><strong>Coach:</strong> @Model.Coach.NombreCompleto</p>
            <p><strong>Torneo Actual:</strong> @Model.Equipo.TorneoActualId</p>
        </div>
        <div class="col-md-6">
            <p><strong>Logo:</strong></p>
            <p><img class="img-fluid rounded" src="@Url.Content("~/Formatos/Imagenes/Equipo/" + Model.Equipo.Logo)" alt="Logo del Equipo"></p>
        </div>
    </div>

    <h2 class="mt-4">Jugadores del Equipo</h2>
    
    <button type="button" class="btn btn-primary align-content-end" data-bs-toggle="modal" data-bs-target="#crearJugadorModal">
        Agregar Jugador
    </button>
    <!-- Tabla para mostrar los jugadores -->
    <table class="table">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Apellido Paterno</th>
                <th>Apellido Materno</th>
                <th>Edad</th>
                <th>Fotografía</th>
                <th>Posición</th>
                <th>Número de Jugador</th>
                <th>Username</th>
            </tr>
        </thead>
        <tbody id="jugadores-tbody">
            <!-- Las filas se llenarán dinámicamente con JavaScript -->
        </tbody>
    </table>

    <!-- Contenedor para los botones de paginación -->
    <div id="pagination" class="mt-3">
        <!-- Los botones de paginación se llenarán dinámicamente con JavaScript -->
    </div>

    <div class="modal fade" id="crearJugadorModal" tabindex="-1" aria-labelledby="crearJugadorModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="crearJugadorModalLabel">Agregar Jugador</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="modal-body">
                        <form asp-action="DetallesEquipo" asp-controller="Administrador" method="post" enctype="multipart/form-data">
                            <div class="form-group">
                                <label asp-for="NuevoJugador.JugadorNombre" class="control-label"></label>
                                <input asp-for="NuevoJugador.JugadorNombre" class="form-control" />
                                <span asp-validation-for="NuevoJugador.JugadorNombre" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label asp-for="NuevoJugador.ApPaterno" class="control-label"></label>
                                <input asp-for="NuevoJugador.ApPaterno" class="form-control" />
                                <span asp-validation-for="NuevoJugador.ApPaterno" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label asp-for="NuevoJugador.ApMaterno" class="control-label"></label>
                                <input asp-for="NuevoJugador.ApMaterno" class="form-control" />
                                <span asp-validation-for="NuevoJugador.ApMaterno" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label asp-for="NuevoJugador.Edad" class="control-label"></label>
                                <input asp-for="NuevoJugador.Edad" type="number" class="form-control" />
                                <span asp-validation-for="NuevoJugador.Edad" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label asp-for="NuevoJugador.Fotografia" class="control-label"></label>
                                <input asp-for="NuevoJugador.Fotografia" type="file" class="form-control" />
                                <span asp-validation-for="NuevoJugador.Fotografia" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label asp-for="NuevoJugador.Posicion" class="control-label"></label>
                                <input asp-for="NuevoJugador.Posicion" class="form-control" />
                                <span asp-validation-for="NuevoJugador.Posicion" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label asp-for="NuevoJugador.NumJugador" class="control-label"></label>
                                <input asp-for="NuevoJugador.NumJugador" type="number" class="form-control" />
                                <span asp-validation-for="NuevoJugador.NumJugador" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label asp-for="NuevoJugador.Username" class="control-label"></label>
                                <input asp-for="NuevoJugador.Username" class="form-control" />
                                <span asp-validation-for="NuevoJugador.Username" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label asp-for="NuevoJugador.Clave" class="control-label"></label>
                                <input asp-for="NuevoJugador.Clave" type="password" class="form-control" />
                                <span asp-validation-for="NuevoJugador.Clave" class="text-danger"></span>
                            </div>

                            <input type="hidden" asp-for="NuevoJugador.EquipoId" value="@Model.Equipo.EquipoId" />

                            <div class="form-group">
                                <button type="submit" class="btn btn-primary">Crear Jugador</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>

<!-- Script para pasar los datos al JavaScript -->
<script id="jugadores-data" type="application/json">
    @Html.Raw(Json.Serialize(Model.Jugadores))
</script>